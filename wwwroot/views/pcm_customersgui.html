<div class="container">
    <div class="row">
        <div class="col-md-12">
            <h1 id="tableLabel">
                Clients

                <span class="pull-right">
                    <button class="btn btn-sm btn-danger" id="authorize_button" style="display: none;">Authorize</button>
                    <button class="btn btn-sm btn-danger" id="signout_button" style="display: none;">Sign Out</button>
                    <button class="btn btn-sm btn-primary" ng-click="pcm_customeredit()" title="New client">new</button>
                    <button class="btn btn-sm btn-default" ng-click="loadData()">refresh</button>
                </span>
            </h1>
        </div>
    </div>


    <div class="row">
        <div class="col-md-12">
            <p ng-if="!pcm_customers"><em>Loading...</em></p>

            <table class='table table-responsive table-hover' aria-labelledby="tableLabel" ng-if="pcm_customers">
                <thead>
                    <tr>
                        <th>Photo</th>
                        <th>ID</th>
                        <th>Name</th>
                        <th>Surname</th>
                        <th>e-mail</th>
                        <th>Phone</th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="pcm_customer in pcm_customers"
                        ng-dblclick="pcm_customeredit(pcm_customer)"
                        ng-click="pcm_customerdata(pcm_customer)"
                        class="clickable">
                        <td><img ng-src="{{pcm_customer.photodocument.content}}" class="img-rounded" width="60"></td>
                        <td>{{ pcm_customer.id }}</td>
                        <td>{{ pcm_customer.firstname }}</td>
                        <td>{{ pcm_customer.surname }}</td>
                        <td>{{ pcm_customer.emailcalendar }}<br>{{ pcm_customer.emailinvoice }}</td>
                        <td>{{ pcm_customer.phone }}</td>
                        <td style="width:1%">
                            <button class="btn btn-danger btn-xs" ng-click="pcm_customerdelete(pcm_customer)">Delete</button>
                        </td>
                        <td style="width:1%">
                            <button class="btn btn-primary btn-xs" ng-click="pcm_customeredit(pcm_customer)">Edit</button>
                        </td>
                    </tr>

                </tbody>
            </table>

        </div>

        <div class="col-md-12" ng-if="selectedpcm_customer">
            <hr />
            <h3>Selected Client</h3>
            <p>
                <b>{{selectedpcm_customer.id}}</b> {{selectedpcm_customer.firstname}} {{selectedpcm_customer.surname}}
                <br>                
            </p>
            <div id="tester" style="width:600px;height:250px;"></div>

        </div>

        <script>
            TESTER = document.getElementById('tester');
            Plotly.newPlot(TESTER, [{
                x: [1, 2, 3, 4, 5],
                y: [1, 2, 4, 8, 16]
            }], {
                margin: { t: 0 }
            });
        </script>

    </div>
</div>


